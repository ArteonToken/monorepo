import ContractMessage from './messages/contract'
import TransactionMessage from './messages/transaction'
import BlockMessage from './messages/block'
import BWMessage from './messages/bw'
import BWRequestMessage from './messages/bw-request'
import bs58 from '@vandeurenglenn/base58'

const contractFactory = 'ba5xdacpmgrg2quyubz5olhc4gatxvoxjxpfb775re4ugc4t2rem6yduf2'
const nativeToken = 'ba5xdadmvyrlxm2ywnt6lrlyacgen2yfnisls36kzioufe3vuhr7uwcxwo'
const nameService = 'ba5xdadd7ouuetadku26wcatancakrx7vm3omugmrx2artbxnszzulnori'
const validators = 'ba5xdad7d524mfuok2g5dy4lgvrbefla6idjpnk2a6hqt36fa6hyh77owj'

const contractFactoryMessage = new Uint8Array('237,198,1,10,54,51,67,122,86,52,76,89,52,106,105,113,76,105,54,100,122,122,80,57,67,77,82,99,86,65,80,121,115,65,57,55,49,88,68,104,50,118,72,52,105,53,65,112,57,107,55,98,80,49,118,70,120,49,81,18,226,4,114,101,116,117,114,110,32,99,108,97,115,115,32,70,97,99,116,111,114,121,123,35,116,61,34,65,114,116,79,110,108,105,110,101,67,111,110,116,114,97,99,116,70,97,99,116,111,114,121,34,59,35,114,61,48,59,35,97,61,91,93,59,103,101,116,32,110,97,109,101,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,116,125,103,101,116,32,99,111,110,116,114,97,99,116,115,40,41,123,114,101,116,117,114,110,91,46,46,46,116,104,105,115,46,35,97,93,125,103,101,116,32,116,111,116,97,108,67,111,110,116,114,97,99,116,115,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,114,125,105,115,118,97,108,105,100,40,116,44,114,44,97,44,111,61,91,93,41,123,99,111,110,115,116,32,99,61,110,101,119,32,67,111,110,116,114,97,99,116,77,101,115,115,97,103,101,40,123,99,114,101,97,116,111,114,58,114,44,99,111,110,116,114,97,99,116,58,97,44,99,111,110,115,116,114,117,99,116,111,114,80,97,114,97,109,101,116,101,114,115,58,111,125,41,59,114,101,116,117,114,110,32,66,111,111,108,101,97,110,40,99,46,104,97,115,104,61,61,61,116,41,125,97,115,121,110,99,32,100,101,112,108,111,121,67,111,110,116,114,97,99,116,40,116,44,114,44,97,44,111,61,91,93,41,123,105,102,40,97,46,99,114,101,97,116,111,114,33,61,61,109,115,103,46,115,101,110,100,101,114,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,111,110,108,121,32,97,32,99,111,110,116,114,97,99,116,32,99,114,101,97,116,111,114,32,99,97,110,32,100,101,112,108,111,121,32,97,32,99,111,110,116,114,97,99,116,34,41,59,105,102,40,97,119,97,105,116,32,99,111,110,116,114,97,99,116,83,116,111,114,101,46,104,97,115,40,104,97,115,104,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,100,117,112,108,105,99,97,116,101,32,99,111,110,116,114,97,99,116,34,41,59,105,102,40,33,116,104,105,115,46,105,115,86,97,108,105,100,40,116,44,114,44,97,44,111,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,105,110,118,97,108,105,100,32,99,111,110,116,114,97,99,116,34,41,59,97,119,97,105,116,32,99,111,110,116,114,97,99,116,83,116,111,114,101,46,112,117,116,40,104,97,115,104,44,101,110,99,111,100,101,100,41,44,116,104,105,115,46,35,114,43,61,49,44,116,104,105,115,46,35,97,46,112,117,115,104,40,104,97,115,104,41,125,125,59,10'.split(','))
const nativeTokenMessage = new Uint8Array('237,198,1,10,54,51,67,122,86,52,76,89,52,106,105,113,76,105,54,100,122,122,80,57,67,77,82,99,86,65,80,121,115,65,57,55,49,88,68,104,50,118,72,52,105,53,65,112,57,107,55,98,80,49,118,70,120,49,81,18,248,11,114,101,116,117,114,110,32,99,108,97,115,115,32,65,114,116,79,110,108,105,110,101,32,101,120,116,101,110,100,115,32,99,108,97,115,115,32,84,111,107,101,110,123,35,101,59,35,115,59,35,97,61,48,59,35,114,61,123,125,59,35,116,61,123,125,59,35,108,61,49,56,59,35,110,61,66,105,103,78,117,109,98,101,114,46,102,114,111,109,40,48,41,59,35,111,61,123,79,87,78,69,82,58,91,93,44,77,73,78,84,58,91,93,44,66,85,82,78,58,91,93,125,59,99,111,110,115,116,114,117,99,116,111,114,40,101,44,115,44,97,61,49,56,41,123,105,102,40,33,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,97,109,101,32,117,110,100,101,102,105,110,101,100,34,41,59,105,102,40,33,115,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,115,121,109,98,111,108,32,117,110,100,101,102,105,110,101,100,34,41,59,116,104,105,115,46,35,101,61,101,44,116,104,105,115,46,35,115,61,115,44,116,104,105,115,46,35,108,61,97,44,116,104,105,115,46,35,105,40,109,115,103,46,115,101,110,100,101,114,44,34,79,87,78,69,82,34,41,125,103,101,116,32,110,97,109,101,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,101,125,103,101,116,32,115,121,109,98,111,108,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,115,125,103,101,116,32,104,111,108,100,101,114,115,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,97,125,103,101,116,32,98,97,108,97,110,99,101,115,40,41,123,114,101,116,117,114,110,123,46,46,46,116,104,105,115,46,35,114,125,125,103,101,116,32,114,111,108,101,115,40,41,123,114,101,116,117,114,110,123,46,46,46,116,104,105,115,46,35,111,125,125,104,97,115,82,111,108,101,40,101,44,115,41,123,114,101,116,117,114,110,33,33,116,104,105,115,46,35,111,91,115,93,38,38,45,49,33,61,61,116,104,105,115,46,35,111,91,115,93,46,105,110,100,101,120,79,102,40,101,41,125,35,105,40,101,44,115,41,123,105,102,40,116,104,105,115,46,104,97,115,82,111,108,101,40,101,44,115,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,36,123,115,125,32,114,111,108,101,32,97,108,114,101,97,100,121,32,103,114,97,110,116,101,100,32,102,111,114,32,36,123,101,125,96,41,59,116,104,105,115,46,35,111,91,115,93,46,112,117,115,104,40,101,41,125,103,114,97,110,116,82,111,108,101,40,101,44,115,41,123,105,102,40,33,116,104,105,115,46,104,97,115,82,111,108,101,40,101,44,34,79,87,78,69,82,34,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,78,111,116,32,97,108,108,111,119,101,100,34,41,59,116,104,105,115,46,35,105,40,101,44,115,41,125,109,105,110,116,40,101,44,115,41,123,105,102,40,33,116,104,105,115,46,104,97,115,82,111,108,101,40,109,115,103,46,115,101,110,100,101,114,44,34,77,73,78,84,34,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,116,32,97,108,108,111,119,101,100,34,41,59,116,104,105,115,46,35,110,61,116,104,105,115,46,35,110,46,97,100,100,40,115,41,44,116,104,105,115,46,35,104,40,101,44,115,41,125,98,117,114,110,40,101,44,115,41,123,105,102,40,33,116,104,105,115,46,104,97,115,82,111,108,101,40,109,115,103,46,115,101,110,100,101,114,44,34,66,85,82,78,34,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,116,32,97,108,108,111,119,101,100,34,41,59,116,104,105,115,46,35,110,61,116,104,105,115,46,35,110,46,115,117,98,40,115,41,44,116,104,105,115,46,35,99,40,101,44,115,41,125,35,100,40,101,44,115,44,97,41,123,105,102,40,33,116,104,105,115,46,35,114,91,101,93,124,124,116,104,105,115,46,35,114,91,101,93,60,97,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,97,109,111,117,110,116,32,101,120,99,101,101,100,115,32,98,97,108,97,110,99,101,34,41,125,35,98,40,101,44,115,41,123,48,61,61,61,116,104,105,115,46,35,114,91,101,93,38,38,40,116,104,105,115,46,35,97,45,61,49,41,44,116,104,105,115,46,35,114,91,101,93,62,48,38,38,48,61,61,61,115,38,38,40,116,104,105,115,46,35,97,43,61,49,41,125,35,104,40,101,44,115,41,123,99,111,110,115,116,32,97,61,116,104,105,115,46,35,114,91,101,93,59,116,104,105,115,46,35,114,91,101,93,124,124,40,116,104,105,115,46,35,114,91,101,93,61,66,105,103,78,117,109,98,101,114,46,102,114,111,109,40,48,41,41,44,116,104,105,115,46,35,114,91,101,93,61,116,104,105,115,46,35,114,91,101,93,46,97,100,100,40,115,41,44,116,104,105,115,46,35,98,40,101,44,97,41,125,35,99,40,101,44,115,41,123,99,111,110,115,116,32,97,61,116,104,105,115,46,35,114,91,101,93,59,116,104,105,115,46,35,114,91,101,93,61,116,104,105,115,46,35,114,91,101,93,46,115,117,98,40,115,41,44,116,104,105,115,46,35,98,40,101,44,97,41,125,98,97,108,97,110,99,101,79,102,40,101,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,114,91,101,93,125,115,101,116,65,112,112,114,111,118,97,108,40,101,44,115,41,123,99,111,110,115,116,32,97,61,103,108,111,98,97,108,84,104,105,115,46,109,115,103,46,115,101,110,100,101,114,59,116,104,105,115,46,35,116,91,97,93,124,124,40,116,104,105,115,46,35,116,91,97,93,61,123,125,41,44,116,104,105,115,46,35,116,91,97,93,91,101,93,61,115,125,97,112,112,114,111,118,101,100,40,101,44,115,44,97,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,116,91,101,93,91,115,93,61,61,61,97,125,116,114,97,110,115,102,101,114,40,101,44,115,44,97,41,123,97,61,66,105,103,78,117,109,98,101,114,46,102,114,111,109,40,97,41,44,116,104,105,115,46,35,100,40,101,44,115,44,97,41,44,116,104,105,115,46,35,99,40,101,44,97,41,44,116,104,105,115,46,35,104,40,115,44,97,41,125,125,123,99,111,110,115,116,114,117,99,116,111,114,40,41,123,115,117,112,101,114,40,34,65,114,116,79,110,108,105,110,101,34,44,34,65,82,84,34,44,49,56,41,125,125,59,10'.split(','))
const nameServiceMessage = new Uint8Array('237,198,1,10,54,51,67,122,86,52,76,89,52,106,105,113,76,105,54,100,122,122,80,57,67,77,82,99,86,65,80,121,115,65,57,55,49,88,68,104,50,118,72,52,105,53,65,112,57,107,55,98,80,49,118,70,120,49,81,18,170,8,114,101,116,117,114,110,32,99,108,97,115,115,32,78,97,109,101,83,101,114,118,105,99,101,123,35,114,61,34,65,114,116,79,110,108,105,110,101,78,97,109,101,83,101,114,118,105,99,101,34,59,35,101,59,35,115,61,48,59,35,110,61,123,125,59,35,116,59,103,101,116,32,110,97,109,101,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,114,125,103,101,116,32,114,101,103,105,115,116,114,121,40,41,123,114,101,116,117,114,110,123,46,46,46,116,104,105,115,46,35,110,125,125,99,111,110,115,116,114,117,99,116,111,114,40,114,44,101,44,115,41,123,116,104,105,115,46,35,101,61,109,115,103,46,115,101,110,100,101,114,44,116,104,105,115,46,35,110,46,65,114,116,79,110,108,105,110,101,67,111,110,116,114,97,99,116,70,97,99,116,111,114,121,61,123,111,119,110,101,114,58,109,115,103,46,115,101,110,100,101,114,44,97,100,100,114,101,115,115,58,114,125,44,116,104,105,115,46,35,110,46,65,114,116,79,110,108,105,110,101,84,111,107,101,110,61,123,111,119,110,101,114,58,109,115,103,46,115,101,110,100,101,114,44,97,100,100,114,101,115,115,58,101,125,44,116,104,105,115,46,35,110,46,65,114,116,79,110,108,105,110,101,86,97,108,105,100,97,116,111,114,115,61,123,111,119,110,101,114,58,109,115,103,46,115,101,110,100,101,114,44,97,100,100,114,101,115,115,58,115,125,44,116,104,105,115,46,35,116,61,101,125,99,104,97,110,103,101,79,119,110,101,114,40,114,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,32,111,119,110,101,114,34,41,59,116,104,105,115,46,35,101,61,114,125,99,104,97,110,103,101,80,114,105,99,101,40,114,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,32,111,119,110,101,114,34,41,59,116,104,105,115,46,35,115,61,114,125,99,104,97,110,103,101,67,117,114,114,101,110,99,121,40,114,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,32,111,119,110,101,114,34,41,59,116,104,105,115,46,35,116,61,114,125,97,115,121,110,99,32,112,117,114,99,104,97,115,101,78,97,109,101,40,114,44,101,41,123,105,102,40,97,119,97,105,116,32,109,115,103,46,99,97,108,108,40,116,104,105,115,46,35,116,44,34,98,97,108,97,110,99,101,79,102,34,44,91,109,115,103,46,115,101,110,100,101,114,93,41,60,116,104,105,115,46,35,115,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,112,114,105,99,101,32,101,120,99,101,101,100,115,32,98,97,108,97,110,99,101,34,41,59,116,114,121,123,97,119,97,105,116,32,109,115,103,46,99,97,108,108,40,116,104,105,115,46,35,116,44,34,116,114,97,110,115,102,101,114,34,44,91,109,115,103,46,115,101,110,100,101,114,44,116,104,105,115,46,35,101,44,116,104,105,115,46,35,115,93,41,125,99,97,116,99,104,40,114,41,123,116,104,114,111,119,32,114,125,116,104,105,115,46,35,110,91,114,93,61,123,111,119,110,101,114,58,109,115,103,46,115,101,110,100,101,114,44,97,100,100,114,101,115,115,58,101,125,125,108,111,111,107,117,112,40,114,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,110,91,114,93,125,116,114,97,110,115,102,101,114,79,119,110,101,114,115,104,105,112,40,114,44,101,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,110,46,111,119,110,101,114,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,116,32,97,32,111,119,110,101,114,34,41,59,116,104,105,115,46,35,110,91,114,93,46,111,119,110,101,114,61,101,125,99,104,97,110,103,101,65,100,100,114,101,115,115,40,114,44,101,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,110,46,111,119,110,101,114,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,116,32,97,32,111,119,110,101,114,34,41,59,116,104,105,115,46,35,110,91,114,93,46,97,100,100,114,101,115,115,61,101,125,125,59,10,26,58,104,110,121,121,97,113,97,112,109,103,114,103,50,113,117,121,117,98,122,53,111,108,104,99,52,103,97,116,120,118,111,120,106,120,112,102,98,55,55,53,114,101,52,117,103,99,52,116,50,114,101,109,54,121,100,117,102,50,26,58,104,110,121,121,97,113,98,109,118,121,114,108,120,109,50,121,119,110,116,54,108,114,108,121,97,99,103,101,110,50,121,102,110,105,115,108,115,51,54,107,122,105,111,117,102,101,51,118,117,104,114,55,117,119,99,120,119,111,26,58,104,110,121,121,97,113,98,55,100,53,50,52,109,102,117,111,107,50,103,53,100,121,52,108,103,118,114,98,101,102,108,97,54,105,100,106,112,110,107,50,97,54,104,113,116,51,54,102,97,54,104,121,104,55,55,111,119,106'.split(','))
const validatorsMessage = new Uint8Array('237,198,1,10,54,51,67,122,86,52,76,89,52,106,105,113,76,105,54,100,122,122,80,57,67,77,82,99,86,65,80,121,115,65,57,55,49,88,68,104,50,118,72,52,105,53,65,112,57,107,55,98,80,49,118,70,120,49,81,18,159,10,114,101,116,117,114,110,32,99,108,97,115,115,32,86,97,108,105,100,97,116,111,114,115,123,35,116,61,34,65,114,116,79,110,108,105,110,101,86,97,108,105,100,97,116,111,114,115,34,59,35,97,61,48,59,35,114,61,123,125,59,35,101,59,35,105,59,35,110,59,99,111,110,115,116,114,117,99,116,111,114,40,116,41,123,116,104,105,115,46,35,101,61,109,115,103,46,115,101,110,100,101,114,44,116,104,105,115,46,35,110,61,53,101,52,44,116,104,105,115,46,35,105,61,116,44,116,104,105,115,46,35,97,43,61,49,44,116,104,105,115,46,35,114,91,109,115,103,46,115,101,110,100,101,114,93,61,123,102,105,114,115,116,83,101,101,110,58,40,110,101,119,32,68,97,116,101,41,46,103,101,116,84,105,109,101,40,41,44,97,99,116,105,118,101,58,33,48,125,125,103,101,116,32,110,97,109,101,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,116,125,103,101,116,32,111,119,110,101,114,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,101,125,103,101,116,32,99,117,114,114,101,110,99,121,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,105,125,103,101,116,32,118,97,108,105,100,97,116,111,114,115,40,41,123,114,101,116,117,114,110,123,46,46,46,116,104,105,115,46,35,114,125,125,103,101,116,32,116,111,116,97,108,86,97,108,105,100,97,116,111,114,115,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,97,125,103,101,116,32,109,105,110,105,109,117,109,66,97,108,97,110,99,101,40,41,123,114,101,116,117,114,110,32,116,104,105,115,46,35,110,125,99,104,97,110,103,101,79,119,110,101,114,40,116,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,116,32,97,110,32,111,119,110,101,114,34,41,125,99,104,97,110,103,101,67,117,114,114,101,110,99,121,40,116,41,123,105,102,40,109,115,103,46,115,101,110,100,101,114,33,61,61,116,104,105,115,46,35,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,110,111,116,32,97,110,32,111,119,110,101,114,34,41,59,116,104,105,115,46,35,105,61,116,125,104,97,115,40,116,41,123,114,101,116,117,114,110,32,66,111,111,108,101,97,110,40,118,111,105,100,32,48,33,61,61,116,104,105,115,46,35,114,91,116,93,41,125,97,115,121,110,99,32,97,100,100,86,97,108,105,100,97,116,111,114,40,116,41,123,105,102,40,116,104,105,115,46,104,97,115,40,116,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,97,108,114,101,97,100,121,32,97,32,118,97,108,105,100,97,116,111,114,34,41,59,99,111,110,115,116,32,97,61,97,119,97,105,116,32,109,115,103,46,115,116,97,116,105,99,67,97,108,108,40,116,104,105,115,46,99,117,114,114,101,110,99,121,44,34,98,97,108,97,110,99,101,79,102,34,44,109,115,103,46,115,101,110,100,101,114,41,59,105,102,40,97,60,116,104,105,115,46,109,105,110,105,109,117,109,66,97,108,97,110,99,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,98,97,108,97,110,99,101,32,116,111,32,108,111,119,33,32,103,111,116,58,32,36,123,97,125,32,110,101,101,100,58,32,36,123,116,104,105,115,46,35,110,125,96,41,59,116,104,105,115,46,35,97,43,61,49,44,116,104,105,115,46,35,114,91,116,93,61,123,102,105,114,115,116,83,101,101,110,58,40,110,101,119,32,68,97,116,101,41,46,103,101,116,84,105,109,101,40,41,44,97,99,116,105,118,101,58,33,48,125,125,114,101,109,111,118,101,86,97,108,105,100,97,116,111,114,40,116,41,123,105,102,40,33,116,104,105,115,46,104,97,115,40,116,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,118,97,108,105,100,97,116,111,114,32,110,111,116,32,102,111,117,110,100,34,41,59,116,104,105,115,46,35,97,45,61,49,44,100,101,108,101,116,101,32,116,104,105,115,46,35,114,91,116,93,125,97,115,121,110,99,32,117,112,100,97,116,101,86,97,108,105,100,97,116,111,114,40,116,44,97,41,123,105,102,40,33,116,104,105,115,46,104,97,115,40,116,41,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,118,97,108,105,100,97,116,111,114,32,110,111,116,32,102,111,117,110,100,34,41,59,99,111,110,115,116,32,114,61,97,119,97,105,116,32,109,115,103,46,115,116,97,116,105,99,67,97,108,108,40,116,104,105,115,46,99,117,114,114,101,110,99,121,44,34,98,97,108,97,110,99,101,79,102,34,44,109,115,103,46,115,101,110,100,101,114,41,59,105,102,40,114,60,116,104,105,115,46,109,105,110,105,109,117,109,66,97,108,97,110,99,101,38,38,116,104,105,115,46,35,114,91,116,93,46,97,99,116,105,118,101,38,38,40,116,104,105,115,46,35,114,91,116,93,46,97,99,116,105,118,101,61,33,49,41,44,114,60,116,104,105,115,46,109,105,110,105,109,117,109,66,97,108,97,110,99,101,41,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,98,97,108,97,110,99,101,32,116,111,32,108,111,119,33,32,103,111,116,58,32,36,123,114,125,32,110,101,101,100,58,32,36,123,116,104,105,115,46,35,110,125,96,41,59,116,104,105,115,46,35,114,91,116,93,46,97,99,116,105,118,101,61,97,125,125,59,10,26,58,104,110,121,121,97,113,98,109,118,121,114,108,120,109,50,121,119,110,116,54,108,114,108,121,97,99,103,101,110,50,121,102,110,105,115,108,115,51,54,107,122,105,111,117,102,101,51,118,117,104,114,55,117,119,99,120,119,111'.split(','))

const calculateFee = transaction => {
  // excluded from fees
  if (transaction.decoded.to === validators) return 0
  // fee per gb
  let fee = transaction.encoded.length
  fee = fee / 1024
  fee = fee / 1000000
  const parts = String(fee).split('.')
  let decimals = 0
  if (parts[1]) {
    const potentional = parts[1].split('e')
    parts[1] = potentional[0]
    decimals = Number(potentional[1].replace(/\-|\+/g, '')) + Number(potentional[0].length)
  }

  return Number.parseFloat(fee.toString()).toFixed(decimals)
}

const calculateTransactionFee = transaction => {
  transaction = new TransactionMessage(transaction)
  return calculateFee(transaction)
}

const calculateReward = (validators, fees) => {
  validators = Object.keys(validators).reduce((set, key) => {
    if (validators[key].active) set.push({
      address: key,
      reward: 0
    })

  }, [])
}

export default {
  nativeToken,
  nameService,
  contractFactory,
  validators,
  contractFactoryMessage,
  nativeTokenMessage,
  nameServiceMessage,
  validatorsMessage,
  TransactionMessage,
  ContractMessage,
  BlockMessage,
  BWMessage,
  BWRequestMessage,
  calculateFee,
  calculateTransactionFee
}
